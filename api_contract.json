{
  "specificationName": "Custom API Contract Specification",
  "version": "1.0.0",
  "meta": {
      "basePackage": "com.quizbackend.contracts"
  },
  "routes": [
    {
      "method": "POST",
      "path": "/auth/login",
      "bodyType": "LoginRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "LoginResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "POST",
      "path": "/auth/signup",
      "bodyType": "SignupRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "LoginResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "POST",
      "path": "/auth/logout",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "DELETE",
      "path": "/auth/account",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "MessageResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "POST",
      "path": "/auth/recover",
      "bodyType": "RecoverPasswordRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "MessageResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "POST",
      "path": "/auth/verify",
      "bodyType": "VerifyEmailRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "GET",
      "path": "/auth/must-change-password",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "MustChangePasswordResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "POST",
      "path": "/auth/change-password",
      "bodyType": "ChangePasswordRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/auth/status",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "UserStatusResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/questions",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "SearchQuestionsParamsDTO",
      "responseType": "QuestionListResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "POST",
      "path": "/questions",
      "bodyType": "CreateQuestionsRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/questions/{id}",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "GetQuestionParamsDTO",
      "responseType": "QuestionDataResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "PUT",
      "path": "/questions/{id}",
      "bodyType": "UpdateQuestionRequestDTO",
      "paramsType": "UpdateQuestionParamsDTO",
      "responseType": "QuestionDataResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "DELETE",
      "path": "/questions/{id}",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "DeleteQuestionParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/questions/batch",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "GetQuestionsBatchParamsDTO",
      "responseType": "QuestionListResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "GET",
      "path": "/collections",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "CollectionListResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "POST",
      "path": "/collections",
      "bodyType": "CreateCollectionRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "IdDataResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/collections/{id}",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "UpdateCollectionParamsDTO",
      "responseType": "CollectionDetailResponseDTO",
      "requiresAuth": false
    },
    {
      "method": "PUT",
      "path": "/collections/{id}",
      "bodyType": "UpdateCollectionRequestDTO",
      "paramsType": "UpdateCollectionParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "DELETE",
      "path": "/collections/{id}",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "UpdateCollectionParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "POST",
      "path": "/communities/friend-request",
      "bodyType": "SendFriendRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "FriendRequestResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "POST",
      "path": "/communities/friend-request/respond",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/communities/users",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "UserListResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/marks",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "MarkListResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "POST",
      "path": "/devices/push-token",
      "bodyType": "RegisterPushTokenRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "DELETE",
      "path": "/devices/push-token",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "GenericResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "GET",
      "path": "/profile",
      "bodyType": "EmptyRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "ProfileDataResponseDTO",
      "requiresAuth": true
    },
    {
      "method": "PUT",
      "path": "/profile",
      "bodyType": "UpdateProfileRequestDTO",
      "paramsType": "EmptyParamsDTO",
      "responseType": "ProfileDataResponseDTO",
      "requiresAuth": true
    }
  ],
  "dtos": {
    "DTOParams": {
      "inherits": null,
      "properties": []
    },
    "EmptyParamsDTO": {
      "inherits": "DTOParams",
      "properties": []
    },
    "SearchQuestionsParamsDTO": {
      "inherits": "DTOParams",
      "properties": [
        { "name": "page", "type": "Int", "isNullable": false }
      ]
    },
    "GetQuestionParamsDTO": {
      "inherits": "DTOParams",
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false }
      ]
    },
    "GetQuestionsBatchParamsDTO": {
      "inherits": "DTOParams",
      "properties": [
        { "name": "ids", "type": "List<Int>", "isNullable": false }
      ]
    },
    "UpdateQuestionParamsDTO": {
      "inherits": "DTOParams",
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false }
      ]
    },
    "DeleteQuestionParamsDTO": {
      "inherits": "DTOParams",
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false }
      ]
    },
    "UpdateCollectionParamsDTO": {
      "inherits": "DTOParams",
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false }
      ]
    },
    "DTOResponse": {
      "inherits": null,
      "properties": [
        { "name": "success", "type": "Boolean", "isNullable": false },
        { "name": "data", "type": "T", "isNullable": true },
        { "name": "message", "type": "String", "isNullable": true },
        { "name": "error", "type": "ErrorDetailsDTO", "isNullable": true }
      ]
    },
    "EmptyRequestDTO": {
      "inherits": null,
      "properties": []
    },
    "BaseResponse": {
      "inherits": null,
      "properties": [
        { "name": "success", "type": "Boolean", "isNullable": false },
        { "name": "error", "type": "String", "isNullable": false }
      ]
    },
    "LoginResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "token", "type": "String", "isNullable": false }
      ]
    },
    "GenericResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "success", "type": "Boolean", "isNullable": false }
      ]
    },
    "MessageResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "message", "type": "String", "isNullable": false }
      ]
    },
    "MustChangePasswordResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "mustChange", "type": "Boolean", "isNullable": false }
      ]
    },
    "UserStatusResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "status", "type": "UserStatusDataDTO", "isNullable": true }
      ]
    },
    "ProfileDataResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "profile", "type": "ProfileDataDTO", "isNullable": false }
      ]
    },
    "QuestionListResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "questions", "type": "List<QuestionDataDTO>", "isNullable": false }
      ]
    },
    "QuestionDataResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "question", "type": "QuestionDataDTO", "isNullable": false }
      ]
    },
    "CollectionListResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "collections", "type": "List<CollectionDataDTO>", "isNullable": false }
      ]
    },
    "IdDataResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false }
      ]
    },
    "CollectionDetailResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "collection", "type": "CollectionDetailDataDTO", "isNullable": true }
      ]
    },
    "MarkListResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "marks", "type": "List<MarkDataDTO>", "isNullable": false }
      ]
    },
    "FriendRequestResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "friendRequest", "type": "FriendRequestDataDTO", "isNullable": true }
      ]
    },
    "UserListResponseDTO": {
      "inherits": null,
      "properties": [
        { "name": "users", "type": "List<PublicUserProfileDTO>", "isNullable": false }
      ]
    },
    "LoginRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "email", "type": "String", "isNullable": false },
        { "name": "passwordHash", "type": "String", "isNullable": false },
        { "name": "uniqueId", "type": "String", "isNullable": false }
      ]
    },
    "LoginDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "token", "type": "String", "isNullable": false },
        { "name": "message", "type": "String", "isNullable": false }
      ]
    },
    "SignupRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "email", "type": "String", "isNullable": false },
        { "name": "username", "type": "String", "isNullable": false },
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "surname", "type": "String", "isNullable": false },
        { "name": "passwordHash", "type": "String", "isNullable": false },
        { "name": "uniqueId", "type": "String", "isNullable": false }
      ]
    },
    "MessageDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "message", "type": "String", "isNullable": false }
      ]
    },
    "RecoverPasswordRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "email", "type": "String", "isNullable": false }
      ]
    },
    "VerifyEmailRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "code", "type": "String", "isNullable": false }
      ]
    },
    "MustChangePasswordDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "must_change_password", "type": "Boolean", "isNullable": false }
      ]
    },
    "ChangePasswordRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "oldHash", "type": "String", "isNullable": false },
        { "name": "newHash", "type": "String", "isNullable": false }
      ]
    },
    "UserStatusDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": true },
        { "name": "email", "type": "String", "isNullable": true },
        { "name": "username", "type": "String", "isNullable": true },
        { "name": "isVerified", "type": "Boolean", "isNullable": false },
        { "name": "mustChangePassword", "type": "Boolean", "isNullable": false }
      ]
    },
    "RegisterPushTokenRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "pushToken", "type": "String", "isNullable": false }
      ]
    },
    "ProfileDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "email", "type": "String", "isNullable": false },
        { "name": "username", "type": "String", "isNullable": false },
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "surname", "type": "String", "isNullable": false },
        { "name": "isVerified", "type": "Boolean", "isNullable": true }
      ]
    },
    "UpdateProfileRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "surname", "type": "String", "isNullable": false },
        { "name": "username", "type": "String", "isNullable": false }
      ]
    },
    "AnswerDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "text", "type": "String", "isNullable": false },
        { "name": "isCorrect", "type": "Boolean", "isNullable": false }
      ]
    },
    "QuestionDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "text", "type": "String", "isNullable": false },
        { "name": "answers", "type": "List<AnswerDataDTO>", "isNullable": false }
      ]
    },
    "LocalizationDTO": {
      "inherits": null,
      "properties": [
        { "name": "locale", "type": "String", "isNullable": false },
        { "name": "text", "type": "String", "isNullable": false }
      ]
    },
    "CreateAnswerInputDTO": {
      "inherits": null,
      "properties": [
        { "name": "localizations", "type": "List<LocalizationDTO>", "isNullable": false }
      ]
    },
    "CreateQuestionInputDTO": {
      "inherits": null,
      "properties": [
        { "name": "localizations", "type": "List<LocalizationDTO>", "isNullable": false },
        { "name": "answers", "type": "List<CreateAnswerInputDTO>", "isNullable": false },
        { "name": "correctAnswersIndices", "type": "List<Int>", "isNullable": false },
        { "name": "isDiscoverable", "type": "Boolean", "isNullable": false },
        { "name": "collectionIds", "type": "List<Int>", "isNullable": false }
      ]
    },
    "CreateQuestionsRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "questions", "type": "List<CreateQuestionInputDTO>", "isNullable": false }
      ]
    },
    "UpdateAnswerInputDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "localizations", "type": "List<LocalizationDTO>", "isNullable": false }
      ]
    },
    "UpdateQuestionRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "localizations", "type": "List<LocalizationDTO>", "isNullable": false },
        { "name": "answers", "type": "List<UpdateAnswerInputDTO>", "isNullable": false },
        { "name": "correctAnswersIndices", "type": "List<Int>", "isNullable": false },
        { "name": "isDiscoverable", "type": "Boolean", "isNullable": false },
        { "name": "collectionIds", "type": "List<Int>", "isNullable": false }
      ]
    },
    "CollectionDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "description", "type": "String", "isNullable": false },
        { "name": "isPublic", "type": "Boolean", "isNullable": false },
        { "name": "creatorId", "type": "Int", "isNullable": false },
        { "name": "createdAt", "type": "String", "isNullable": false }
      ]
    },
    "CollectionDetailDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "description", "type": "String", "isNullable": false },
        { "name": "isPublic", "type": "Boolean", "isNullable": false },
        { "name": "creatorId", "type": "Int", "isNullable": false },
        { "name": "createdAt", "type": "String", "isNullable": false },
        { "name": "questionIds", "type": "List<Int>", "isNullable": false }
      ]
    },
    "CreateCollectionRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "description", "type": "String", "isNullable": false },
        { "name": "isPublic", "type": "Boolean", "isNullable": false }
      ]
    },
    "IdDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false }
      ]
    },
    "UpdateCollectionRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "description", "type": "String", "isNullable": false },
        { "name": "isPublic", "type": "Boolean", "isNullable": false }
      ]
    },
    "MarkDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "questionId", "type": "Int", "isNullable": false },
        { "name": "isCorrect", "type": "Boolean", "isNullable": false },
        { "name": "createdAt", "type": "String", "isNullable": false }
      ]
    },
    "SendFriendRequestDTO": {
      "inherits": null,
      "properties": [
        { "name": "targetUserId", "type": "Int", "isNullable": false }
      ]
    },
    "FriendRequestDataDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "senderId", "type": "Int", "isNullable": false },
        { "name": "receiverId", "type": "Int", "isNullable": false },
        { "name": "status", "type": "String", "isNullable": false },
        { "name": "createdAt", "type": "String", "isNullable": false }
      ]
    },
    "PublicUserProfileDTO": {
      "inherits": null,
      "properties": [
        { "name": "id", "type": "Int", "isNullable": false },
        { "name": "username", "type": "String", "isNullable": false },
        { "name": "name", "type": "String", "isNullable": false },
        { "name": "surname", "type": "String", "isNullable": false }
      ]
    },
    "ErrorDetailsDTO": {
      "inherits": null,
      "properties": [
        { "name": "type", "type": "ErrorType", "isNullable": false },
        { "name": "message", "type": "String", "isNullable": true }
      ]
    }
  },
  "enums": {
    "ErrorType": {
      "values": [
        "INVALID_CREDENTIALS",
        "ACCOUNT_ALREADY_EXISTS",
        "EMAIL_NOT_VERIFIED",
        "INVALID_VERIFICATION_CODE",
        "PASSWORD_TOO_SHORT",
        "PASSWORD_REQUIRES_NUMBER",
        "PASSWORD_REQUIRES_UPPERCASE",
        "PASSWORD_RECENTLY_USED",
        "INVALID_EMAIL_FORMAT",
        "TOKEN_EXPIRED",
        "INVALID_TOKEN",
        "UNAUTHORIZED",
        "FORBIDDEN",
        "USER_NOT_FOUND",
        "USERNAME_ALREADY_TAKEN",
        "INVALID_PROFILE_DATA",
        "QUESTION_NOT_FOUND",
        "INVALID_QUESTION_DATA",
        "EMPTY_QUESTION_TEXT",
        "MISSING_CORRECT_ANSWER",
        "TOO_MANY_ANSWERS",
        "COLLECTION_NOT_FOUND",
        "COLLECTION_ALREADY_EXISTS",
        "CANNOT_MODIFY_PUBLIC_COLLECTION",
        "ACCESS_DENIED_TO_COLLECTION",
        "FRIEND_REQUEST_ALREADY_SENT",
        "FRIEND_REQUEST_NOT_FOUND",
        "CANNOT_FRIEND_SELF",
        "USER_BLOCKED",
        "INTERNAL_SERVER_ERROR",
        "BAD_REQUEST",
        "METHOD_NOT_ALLOWED",
        "NOT_IMPLEMENTED",
        "ROUTE_NOT_EXISTS_OR_BAD_IMPLEMENTED",
        "MISSING_DATA"
      ]
    }
  }
}
